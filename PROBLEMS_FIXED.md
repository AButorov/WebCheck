# ‚úÖ –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏:

### 1. **–û—à–∏–±–∫–∞: "Identifier 'Z' has already been declared"**
**–ü—Ä–∏—á–∏–Ω–∞:** –í —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ `dist/assets/js/index.ts.js` –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `Z` –æ–±—ä—è–≤–ª—è–ª–∞—Å—å –¥–≤–∞–∂–¥—ã - –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ —Ñ–∞–π–ª–∞ –∫–∞–∫ –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏ –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –≤–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏ –∫–∞–∫ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–ª–∞—Å—Å Stream.

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª–∏ –≤—Ç–æ—Ä—É—é –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é `Z` –≤ `StreamZ` –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∏–º–µ–Ω.

### 2. **–û—à–∏–±–∫–∞: "Service worker registration failed. Status code: 15"**
**–ü—Ä–∏—á–∏–Ω–∞:** Service worker –Ω–µ –º–æ–≥ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–∑-–∑–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –≤ background script.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–∏, service worker —Å—Ç–∞–ª –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üõ†Ô∏è –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π Z:**
   ```bash
   sed 's/Z=B;Z\.initDone=!1;Z\.openStreams=new Map/StreamZ=B;StreamZ.initDone=!1;StreamZ.openStreams=new Map/g' dist/assets/js/index.ts.js
   sed -i 's/new Z(e,de/new StreamZ(e,de/g' dist/assets/js/index.ts.js
   ```

2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–µ–π –≤ manifest.json:**
   - –£–∫–∞–∑–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—É—Ç—å –∫ content script: `content-script/index-legacy.js`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `web_accessible_resources`

3. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   - Content script –∏–∑ `src/content-script/index-legacy.js` –≤ `dist/content-script/index-legacy.js`
   - Offscreen —Ñ–∞–π–ª—ã –≤ `dist/offscreen/`
   - –ò–∫–æ–Ω–∫–∏ –≤ `dist/icons/`

---

## üöÄ –°—Ç–∞—Ç—É—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

‚úÖ **JavaScript —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:** –ö–æ—Ä—Ä–µ–∫—Ç–µ–Ω  
‚úÖ **Service worker:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ **Manifest.json:** –ü—É—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
‚úÖ **Content script:** –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ  
‚úÖ **Offscreen API:** –§–∞–π–ª—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã  
‚úÖ **–ò–∫–æ–Ω–∫–∏:** –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ dist/icons/  

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `chrome://extensions/`
   - –ù–∞–π–¥–∏—Ç–µ "Web Check"
   - –ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å" –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ service worker –∑–∞–≥—Ä—É–∑–∏–ª—Å—è

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–ø–∞–ø —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üîç –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å:

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤—Å–µ –µ—â–µ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JavaScript
node -c dist/assets/js/index.ts.js

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
./final-fix.sh

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
./build.sh
```

---

**–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
