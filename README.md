## Исправление ошибок и обновления
- Исправлена ошибка при сборке с `vue-tsc` и `typescript`
- Обновлены версии компонентов для обеспечения совместимости
- Изменен процесс сборки: теперь проверка типов опциональна и не блокирует сборку
- Добавлен отдельный скрипт `type-check` для проверки типов
- Исправлена ошибка Content Security Policy с использованием `unsafe-eval`
- Добавлены CSP-безопасные настройки для Vue и i18n
- Реализована утилита для безопасной работы с `browser.storage`
- Исправлены все ошибки TypeScript для успешной проверки типов
- Добавлены полные типы для всех сообщений между компонентами расширения
- Реализован собственный тип `JsonValue` для совместимости с API расширения
- Улучшена стабильность работы расширения в браузере Chrome

# Web Check - расширение для отслеживания изменений на сайтах

## Статус разработки
- [x] Создана базовая структура проекта на основе vite-vue3-browser-extension-v3
- [x] Настроены основные конфигурационные файлы (package.json, vite.config.ts, tsconfig.json)
- [x] Настроен Tailwind CSS согласно требованиям ТЗ
- [x] Созданы файлы локализации (en, ru)
- [x] Создан интерфейс управления задачами согласно ТЗ
- [x] Реализовано хранилище задач с использованием Pinia
- [x] Созданы базовые скрипты (background, content-script)
- [x] Реализован базовый механизм проверки изменений (нуждается в доработке)
- [x] Реализовано отображение изменений в формате "было/стало"
- [x] Созданы утилитарные скрипты: build.sh, backup.sh, clear.sh
- [x] Создана страница настроек расширения
- [x] Реализована базовая конфигурация ESLint
- [x] Созданы базовые иконки расширения
- [x] Добавлен демо-режим для демонстрации интерфейса
- [x] Улучшено отображение оставшегося времени до следующей проверки
- [x] Добавлены индикаторы загрузки и обработка ошибок
- [x] Реализовано безопасное хранение данных в Chrome Storage API
- [x] Улучшен интерфейс управления задачами согласно ТЗ
- [x] Обновлен компонент TaskCard с улучшенным дизайном
- [x] Улучшена страница просмотра изменений
- [x] Добавлена локализация для всех элементов интерфейса
- [x] Добавлены анимации и улучшены переходы между состояниями UI
- [x] Добавлены стили для улучшения доступности интерфейса
- [x] Реализована система динамического отображения времени до следующей проверки
- [x] Добавлены утилиты для отладки и диагностики расширения
- [x] Исправлены пути в manifest.ts для корректной загрузки popup
- [x] Добавлено расширенное логирование для отладки проблем

## Последние обновления (12.05.2025)
- Исправлена проблема с отображением пустого белого окна
- Добавлены дополнительные утилиты для отладки (debug.sh, diagnose.sh)
- Обновлены пути в manifest.ts для корректной загрузки popup
- Добавлено подробное логирование во все ключевые компоненты
- Оптимизированы настройки CSP (Content Security Policy) для совместимости с Chrome
- Обновлены файлы конфигурации vite.config.ts и csp-safe.ts
- Улучшена инициализация хранилища задач с более надежной обработкой ошибок
- Обновлены скрипты для сборки и отладки расширения

## Текущие возможности
- Просмотр списка задач отслеживания
- Изменение статуса задач (активно/приостановлено)
- Изменение интервала проверки задач
- Просмотр изменений в режиме сравнения "было/стало"
- Удаление задач
- Поддержка различных языков (en, ru)
- Отображение оставшегося времени до следующей проверки
- Различные визуальные состояния задач (изменения обнаружены, без изменений, приостановлено)
- Демо-режим для демонстрации интерфейса
- Улучшенный интерфейс в соответствии с ТЗ
- Отзывчивый дизайн с плавными анимациями переходов
- Индикаторы загрузки и обработка ошибок
- Удобная навигация между экранами
- Стилизация элементов интерфейса по требованиям ТЗ (цвета, шрифты, визуальное оформление)
- Расширенные инструменты для отладки и диагностики проблем

## Инструкции по отладке

Если расширение не отображается или возникают ошибки:

1. Используйте скрипт диагностики для проверки проекта:
   ```bash
   chmod +x diagnose.sh
   ./diagnose.sh
   ```

2. Запустите отладочную сборку с расширенным логированием:
   ```bash
   chmod +x debug.sh
   ./debug.sh
   ```

3. После установки расширения, откройте инструменты разработчика:
   - Кликните правой кнопкой по иконке расширения
   - Выберите "Проверить элемент" или "Inspect"
   - Перейдите на вкладку "Console" для просмотра логов

4. Для отладки background скриптов:
   - Откройте chrome://extensions/
   - Включите "Режим разработчика"
   - Найдите расширение Web Check и нажмите на ссылку "background page"

## Следующие шаги разработки
- Реализовать полноценную функциональность выбора элементов на странице
- Добавить функциональность создания новых задач отслеживания
- Реализовать полноценную логику проверки изменений в фоновом режиме
- Доработать систему уведомлений
- Добавить настройки расширения
- Расширить список поддерживаемых языков
- Добавить интеграционные и юнит-тесты

## Требования
- Node.js 20.x LTS
- pnpm (рекомендуется для управления зависимостями)
- Google Chrome или браузер на основе Chromium

## Установка и запуск разработки

1. Клонировать репозиторий
2. Установить зависимости:
   ```bash
   pnpm install
   ```
3. Запустить режим разработки:
   ```bash
   pnpm run dev
   ```
4. Загрузить распакованное расширение из папки dist в Chrome:
   - Откройте chrome://extensions/
   - Включите режим разработчика
   - Нажмите "Загрузить распакованное расширение" и выберите папку dist

## Сборка для продакшн
```bash
./build.sh
```

## Создание резервной копии
```bash
./backup.sh
```

## Диагностика проблем
```bash
./diagnose.sh
```

## Отладочная сборка
```bash
./debug.sh
```

## Очистка временных файлов
```bash
./clear.sh
```
